---
title: "Historical MAL dataset cleanup"
author: "Edward Yu"
date: "December 07, 2018"
output:
  pdf_document:
      toc: true
      toc_depth: 2
      df_print: kable
      citation_package: natbib
bibliography: bib.bib
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo    = TRUE,
                      error   = FALSE,
                      message = FALSE,
                      warning = FALSE)
```

# *From Marek*: 
## If you are interested I have a small project for R, which is very useful. It has to do with history records of MAL. Here is some basic info:
  
  * Goal: Clean up and consolidate dataset to enable easy searching of past melt
records
  * Tasks: 
    + Mostly working with strings removing duplicates ( E. Yu, YU, Yu Edward …)
    + Removing empty records
    + Missing data
    + Multiple variables in one column
  
There might be other things to do but I have not spent much time looking at the dataset. We could also pull some basic stats on usage, costs, repeats etc. I don’t know your skill level, but it is relatively simple project and I am estimating it would take me about 8 hrs of work. Actual coding, if you know what to use, could be done in less than 1 hour but that requires proficiency in typing and in R.  

I just noticed that sand for this year should have all been W410, excel incremented the name by 1 each time. I think I might be adding information about individual tests from this year incrementally as it comes in and since it is only several rows, perhaps you can delete the entire set of rows from this year, if that makes things easier on your end.

# Preliminary data peaking
## Load packages 
```{r}
if(!require(tidyverse)) install.packages("tidyverse")
library(tidyverse)
if(!require(naniar)) install.packages("naniar")
library(naniar) # gg_miss
```

## Import data
```{r}
setwd("~/R/historical.MAL")
x <- read_csv("data/History.csv")
glimpse(x)
```

## Peak missing values
```{r}
gg_miss_var(x, show_pct = T)
gg_miss_which(x)
```

It appears most variables are missing data. We'll tackle them from top to bottom:
    1. Special projects
    2. Notes ML
    3. Furnace cycle
    4
